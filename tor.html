<!DOCTYPE HTML>
<html lang="it">

<head>
    <title>Turtlecute</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="Guida al setup di un nodo tor">
    <meta property="og:title" content="Turtlecute " />
    <meta name="Turtlecute" content="Nodo tor" />
    <meta property="og:locale" content="it_IT" />
    <meta property="og:site_name" content="Setup Nodo Tor" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="https://turtlecute33.github.io/Turtlecute.org/images/tor.jpg">
    <meta property="twitter:title" content="Guida al setup di un nodo relay per la rete tor" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css" />
    </noscript>
</head>

<body style="font-size: 20px;" class="is-preload">

    <!-- Page Wrapper -->
    <div id="page-wrapper">

        <!-- Header -->
        <header id="header">
            <h1><a href="index.html">Turtlecute</a></h1>
            <nav>
                <a href="#menu">Menu</a>
            </nav>
        </header>

        <!-- Menu -->
        <nav id="menu">
            <div class="inner">
                <h2>Menu</h2>
                <ul class="links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="android.html">Guida alla privacy Android</a></li>
                    <li><a href="joinmarket.html">Guida a JoinMarket</a></li>
                    <li><a href="bitcoin.html">Guida alla privacy su Bitcoin</a></li>
                    <li><a href="seed.html">Generiamo un seed bitcoin con i dadi</a></li>
                    <li><a href="vpn.html">Setup di una VPN self-hosted con AdBlock</a></li>
                    <li><a href="tor.html">Tutorial per creare un nodo Tor</a></li>
                </ul>
                <a href="#" class="close">Close</a>
            </div>
        </nav>

        <!-- Wrapper -->
        <section id="wrapper">
            <header>
                <div class="inner">
                    <h2>Tor</h2>
                    <p>Tutorial per il setup di un nodo Tor</p>
                </div>
            </header>

            <!-- Content -->
            <div class="wrapper">
                <div class="inner">
                    <!-- End Jekyll SEO tag -->
                    <div class="container">
                        <section id="main_content">
                            <article>
                                <center>
                                    <img style="width:95%; height:95%;" src="images/tor.png">
                                </center>
                                <p>Questa vuole essere una guida completa per lanciare un nodo a supporto della rete
                                    tor. Prima di iniziare spieghiamo in breve cos'è questo protocollo: <br>

                                    La rete Tor, acronimo di "The Onion Router", è una rete di comunicazione anonima
                                    progettata per aumentare la privacy e la sicurezza degli utenti su Internet. Il suo
                                    nome deriva dal concetto di "cebolla" o "onion", poiché il suo funzionamento si basa
                                    su diverse strati di crittografia, simili agli strati di una cipolla.

                                    Il principale obiettivo di Tor è rendere difficile il tracciamento delle attività
                                    online degli utenti, proteggendo la loro identità e la loro posizione. La rete
                                    funziona instradando il traffico Internet attraverso una serie di server volontari,
                                    noti come "nodi Tor", gestiti da volontari distribuiti in tutto il mondo. Ogni nodo
                                    Tor rimuove uno strato di crittografia, rivelando solo l'indirizzo IP del nodo
                                    precedente, rendendo difficile risalire all'origine del traffico.

                                    Grazie a questo approccio stratificato, Tor fornisce un grado significativo di
                                    anonimato agli utenti, ma è importante notare che non offre una sicurezza totale e
                                    può essere vulnerabile a attacchi in alcuni scenari. Nonostante ciò, la rete Tor è
                                    ampiamente utilizzata da giornalisti, attivisti per i diritti umani e utenti che
                                    cercano di preservare la loro privacy online.

                                    per ulteriori informazioni ho fatto anche <a
                                        href="https://open.spotify.com/episode/2pc9gy07lJkhajX83ZaVDy?si=muiGO-3CTWuAveDbUYuHHA">una
                                        puntata del podcast</a> a
                                    riguardo!</p>

                                <center><iframe style="border-radius:12px"
                                    src="https://open.spotify.com/embed/episode/2pc9gy07lJkhajX83ZaVDy?utm_source=generator"
                                    width="100%" height="352" frameBorder="0" allowfullscreen=""
                                    allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                                    loading="lazy"></iframe>
                                </center>

                                    <blackquote style="color:grey">
                                        La guida è aperta a miglioramenti e consigli, descriverò la configurazione
                                        che trovo con il miglior rapporto usabilità/privacy, non sono un esperto di
                                        reti e la guida qua presente non vi permetterá
                                        di essere magicamente anonimi e irrintracciabili.
                                        <br><br>
                                        Se volete darmi consigli, contribuire alla guida o effettuare traduzioni,
                                        potete effettuare
                                        una pull request su <a
                                            href="https://github.com/Turtlecute33/Turtlecute.org">GitHub</a> e
                                        supportare
                                        lo sviluppo di queste guide con una <a
                                            href="https://priorato.btcpayserver.it/i/BFg7UG7Zu8eAaRz3EiXgQJ">donazione</a>.
                                    </blackquote><br><br>
                                </figure>

                                <h2 style="color: greenyellow;">Tabella dei contenuti</h2>
                                <ul>
                                    <li><a href="#os">Obiettivo</a></li>
                                    <li><a href="#set">Scelta dell'hosting provider</a></li>
                                    <li><a href="#store">Connessione alla VPN tramite SSH</a></li>
                                    <li><a href="#shelter">Setup della VPN</a></li>
                                    <li><a href="#app">Configurazione PiHole e AdLists</a></li>
                                    <li><a href="#email">Esportazione delle configurazioni</a></li>
                                    <li><a href="#cloud">Test di funzionamento</a></li>
                                    <li><a href="#conc">Conclusioni</a></li>
                                </ul>
                                <br />
                                <h2 style="color: greenyellow;" id="os">Obiettivo</h2>
                                <p>L'obiettivo finale di questa guida sarà quello di self-hostarci una VPN con un
                                    filtro per ads e tracker in maniera totalmente autonoma. Questa procedura
                                    comporta dei vantaggi e svantaggi rispetto all'utilizzo di una normale VPN
                                    commerciale:
                                <h3 style="color:green;">pros</h3>
                                <ul>
                                    <li>
                                        Non doversi fidare di un provider VPN il cui modello di business,
                                        purtroppo,
                                        spesso è vendere i nostri dati personali
                                    </li>
                                    <li>
                                        Possibilità di inserire filtri per pubblicità e trackers; alcune VPN
                                        offrono
                                        questo servizio, ma spesso di qualità molto precaria
                                    </li>
                                    <li>
                                        Personalizzazione dell'esperienza: volete una VPN piu veloce? Dei filtri
                                        pubblicitari specifici? Vorreste condividerla con tutta la famiglia? Con
                                        una
                                        vostra VPN potete gestirvi nel modo che preferite
                                    </li>
                                    <li <p>
                                        Ora che abbiamo effettuato tutte le procedure preliminari per rendere piú sicura
                                        e aggiornata
                                        la nostra VPS possiamo procedere al vero setup, andiamo ad installare wireguard
                                        con i seguenti comandi:<br>
                                        <pre style:"font-size: 90%;"><code>
curl -O https://raw.githubusercontent.com/angristan/wireguard-install/master/wireguard-install.sh
chmod +x wireguard-install.sh
./wireguard-install.sh</code></pre>
                                        a questo punto andiamo anche ad installare pi-hole (il software che useremo come
                                        filtro pubblicitá, tracker e analytics):<br><br>
                                        <code>curl -sSL https://install.pi-hole.net | bash</code><br><br>
                                        durante l'installazione scegliete come interfaccia di rete "wg0", usate
                                        l'opzione
                                        custom dns (non così importante, alla peggio la andiamo comunque a sovrascrivere
                                        dopo), abilitate la 'web interface' e salvatevi la password per il login che vi
                                        verrá data di default (ci servirá in seguito).<br><br>
                                        Andiamo ora ad installare unbound, un software per avere un DNS resolver locale
                                        veloce (per fare una semplificazione ci servirá per avere il nostro setup finale
                                        completo, efficente e veloce).<br><br>
                                        <code>
                                                sudo apt install unbound
                                            </code><br><br>
                                        ed andiamo a configurarlo con:<br><br>
                                        <code>nano /etc/unbound/unbound.conf.d/pi-hole.conf</code><br><br>
                                        Incollate questa configurazione all'interno del file:<br>

                                        <pre style:"font-size: 99%;"><code>
    server:
    verbosity: 0
    interface: 127.0.0.1
    port: 5335
    do-ip4: yes
    do-udp: yes
    do-tcp: yes
    do-ip6: yes
    prefer-ip6: no
    harden-glue: yes
    harden-dnssec-stripped: yes
    use-caps-for-id: no
    edns-buffer-size: 1472
    prefetch: yes
    prefetch-key: yes
    minimal-responses: yes
    cache-min-ttl: 300
    cache-max-ttl: 86400
    serve-expired: yes
    msg-cache-size: 50m
    rrset-cache-size: 100m
    num-threads: 1
    so-reuseport: yes
    so-rcvbuf: 4m
    so-sndbuf: 4m
    private-address: 192.168.0.0/16
    private-address: 169.254.0.0/16
    private-address: 172.16.0.0/12
    private-address: 10.0.0.0/8
    private-address: fd00::/8
    private-address: fe80::/10
										</code></pre>

                                        andiamo quindi a riavviare unbound:<br><br>
                                        <code>sudo service unbound restart</code><br><br>
                                        a questo punto abbiamo correttamente prepato il dns locale, andiamo a
                                        configurare
                                        pi-hole per parlare
                                        con unbound correttamente:<br><br>
                                        <code>nano /etc/pihole/setupVars.conf</code><br><br>
                                        potete editare o sostituire il vostro file di config con quello sottostante
                                        avendo
                                        accortezza di
                                        inserire i dati che nel box qua sotto ho inerito tra parentesi graffe:<br><br>

                                        <pre style:"font-size: 99%;"><code>
WEBPASSWORD=<a style="color: orange;">{lasciate quella presente nel file di default}</a>
BLOCKING_ENABLED=true
WEBUIBOXEDLAYOUT=traditional
WEBTHEME=default-dark
PIHOLE_INTERFACE=wg0
IPV4_ADDRESS=<a style="color: orange;">{mette l'indirizzo IP della vostra VPS esempio:123.24.223.11} </a>
QUERY_LOGGING=true
INSTALL_WEB_SERVER=true
INSTALL_WEB_INTERFACE=true
LIGHTTPD_ENABLED=true
CACHE_SIZE=0
DNSMASQ_LISTENING=local
DNS_FQDN_REQUIRED=true
DNS_BOGUS_PRIV=true
DNSSEC=false
REV_SERVER=false
PIHOLE_DNS_1=127.0.0.1#5335

										</code></pre>
                                        </p>
                            </article>
                        </section>
                    </div>
                </div>
            </div>
            <!-- Footer -->
            <section id="footer">
                <div class="inner">
                    <ul class="copyright">
                        <li>&copy; Copyright un cazzo, non sono comunista.</li>
                        <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
                    </ul>
                </div>
            </section>
            <!-- Scripts -->
            <script src="assets/js/jquery.min.js"></script>
            <script src="assets/js/jquery.scrollex.min.js"></script>
            <script src="assets/js/browser.min.js"></script>
            <script src="assets/js/breakpoints.min.js"></script>
            <script src="assets/js/util.js"></script>
            <script src="assets/js/main.js"></script>

        </section>
    </div>
</body>

</html>